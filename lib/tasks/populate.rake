task create_users: :environment do
  o = [('a'..'z'), ('A'..'Z')].map { |i| i.to_a }.flatten
  d1 = 20.years.ago
  d2 = 50.years.ago
  50.times do
    un = (0...10).map { o[rand(o.length)] }.join
    acc = Account.create({email: "#{un}@user.com", password: 'test@1234', password_confirmation: 'test@1234'})
    usr = User.create({ email: acc.email,
                        first_name: un[0..4],
                        last_name: un[5..9],
                        dob: Time.at((d2.to_f - d1.to_f)*rand + d1.to_f).to_date,
                        gender: ['Male', 'Female'].sample,
                        public: [true, false].sample
                      })
    acc.update_attribute(:accountable, usr)
  end
end

task create_blogs: :environment do
  post = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
          Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?
          But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born and I will give you a complete account of the system, and expound the actual teachings of the great explorer of the truth, the master-builder of human happiness. No one rejects, dislikes, or avoids pleasure itself, because it is pleasure, but because those who do not know how to pursue pleasure rationally encounter consequences that are extremely painful. Nor again is there anyone who loves or pursues or desires to obtain pain of itself, because it is pain, but because occasionally circumstances occur in which toil and pain can procure him some great pleasure. To take a trivial example, which of us ever undertakes laborious physical exercise, except to obtain some advantage from it? But who has any right to find fault with a man who chooses to enjoy a pleasure that has no annoying consequences, or one who avoids a pain that produces no resultant pleasure?"
  titles = "Materials Science","DePaul Journal for Social Justice","ISRN Neurology","Journal of Folklore Research","Pain Practice","Foreign Affairs","Information Management Journal","Photodermatology, Photoimmunology & Photomedicine","American Libraries","Sports Illustrated","High Energy Chemistry","Asian Ethnology","Hydrobiologia","Journal of Consumer Affairs","Vojnosanitetski Pregled: Military Medical & Pharmaceutical Journal of Serbia","Journal of Computer Assisted Learning","Fisheries Management","Russian Physics Journal","Journal of Structural Chemistry","Modern Theology","International Journal of Computer Processing of Languages","Shock & Vibration","International Studies Perspectives","Quarterly Bulletin of the National Library of South Africa","Revista Ciência e Conhecimento","Integrative Psychological & Behavioral Science","Ethics","Physics Essays","Modern Philology","BioMedical Engineering OnLine","Newsweek","Book Research Quarterly","Doklady Physical Chemistry","Headache: The Journal of Head & Face Pain","Journal of Applied Meteorology & Climatology","Southeast Asian Affairs","Entomological Science","BMC Structural Biology","World Literature Today","Physics of Atomic Nuclei","Electronic Green Journal","Journal of Polymer Research","Modern China Studies","Society","Kidney","Scientific Journal of Humanistic Studies","Family Process","Nephrology","Journal of Wildlife Rehabilitation","Zygon: Journal of Religion & Science","New Orleans Review","Quaker StudiesStudies Research Association)","Philosophical Perspectives","Brown University Geriatric Psychopharmacology Update","LC-GC North America","Journal of Nutrition Education & Behavior","Young Adult Library Services","Veterinary Ophthalmology","Current Medical Literature: Epilepsy Monitor","American City & County","Journal of Employment Counseling","Journal of the History of the Behavioral Sciences","Trends in Organized Crime","Computer-Aided Engineering","Environmental Reviews","Psychological Science in the Public Interest","Journal of Materials in Civil Engineering","British Journal of Medical Psychology","CD Computing News","Refractories & Industrial Ceramics","Journal of Mechanics in Medicine & Biology","Illinois Reading Council Journal","Journal of AOAC International","Journal of International & Global Studies","International Journal of Computer Vision","Education","Knowledge & Policy","Geographical Analysis","Black Scholar","Remedial & Special Education","Transportation Science","Behavioral Health Treatment","Current Medical Literature: Colorectal Cancer","Scholastic Update","General Practice Update","International Studies in Educational Administration", "Council for Educational Administration & Management","Canter Magazine","Imaging Decisions MRI","Health Sociology Review","Human Rights","Arabian Archaeology & Epigraphy","Journal of Youth Ministry","Small Axe: A Caribbean Journal of Criticism","Motion System Hydraulics & Pneumatics","International Journal of Qualitative Methods","Issues in Psychoanalytic Psychology","IMF Economic Review","History","Medical & Biological Engineering & Computing","Biofactors","ISRN Civil Engineering","Fundamenta Informaticae","Revolution: The Journal for RNs & Patient Advocacy","Law & Social Inquiry","Revista Épsilon","Disasters","Anatolian Journal of Cardiology Anadolu Kardiyoloji Dergisi","Bulletin of the American Meteorological Society","Astrophysics","Economic Review","Art Book","Geografski Zbornik Acta Geographica Slovenica","Animal Science Papers & Reports","Transactions in GIS","Alcoholism & Drug Abuse Weekly","Environmental Microbiology","Journal of Supercomputing","Linguistics","BLACFAX","Toxicologic Pathology","West Indian Journal of Engineering","Inter@ctive Week","British Journal of Social Psychology","Brown Journal of World Affairs","Geodesy & Cartography","Applied Physics B: Lasers & Optics","Engineer","Indian Journal of Gerontology","Political Studies","Social Analysis","Criticism","Fishery Bulletin","Journal of Scottish Historical Studies","Malaria Journal","South Asian Studies678X)","South African Journal of Geology","Metalsmith","Advancing the Consumer Interest","Military History","Proceedings of the Aristotelian Society","International Social Security Review","British Journal of Politics & International Relations","Disease Markers","SciTech Book News","Hydraulics & Pneumatics","Journal of New Frontiers in Spatial Concepts","Journal of Nursing ResearchNurses Association)","Perspective","Journal of Economic & Social Research","TheatreForum","Immunological Reviews","Journal of Yasar University","Emerging Infectious Diseases","German Politics & Society","European Journal of American Culture","Journal of Architectural Engineering","Journal of Obstetrics & Gynaecology Research","Infant & Child Development","General Music Today","History & Memory","INFORMS Journal on Computing","Architectural Digest","Southeastern Naturalist","TechTrends: Linking Research & Practice to Improve Learning","Mathematical Notes","Review of Human Factor Studies","Fontes Artis Musicae","Texas Heart Institute Journal","Depression & Anxiety4269)","Diabetic Medicine","Behavioral Disorders","Veterinary Anaesthesia & Analgesia","Canadian Geographer","Centro Journal","Journal of Performance of Constructed Facilities","Journal of Public Affairs","Analyses of Social Issues & Public Policy","Global Governance","Journal of Applied Quantitative Methods","Measurement & Evaluation in Counseling & DevelopmentCounseling Association)","School Libraries in Canada","Blueprint","Polymers & Polymer Composites","Journal of Cardiac Surgery","Jewish Social Studies","European Journal of Political Research","IETE Journal of Research","Journal of Engineering Physics & Thermophysics","European Journal of Human Genetics","European Journal of Psychology of Education - EJPESuperior de Psicologia Aplicada)","Iranian Journal of Psychiatry & Clinical Psychology","Journal of Professional Counseling: Practice, Theory & Research","Pacing & Clinical Electrophysiology","Journal of Evolutionary Biology","International Journal of Natural Sciences","Current Medical Literature: Rheumatology","Clinical Infectious Diseases","Biological Chemistry","Museum International","EPM Weekly Bulletin","Skin Research & Technology","Cellular Oncology3428)","Australian Journal of Ecology","Consumer Comments","European Journal of Social Psychology","Journal of Transportation Engineering","Plasmas & Polymers","ISRN Condensed Matter Physics","Clinical & Experimental Immunology","MMWR Recommendations & Reports","Journal of Supreme Court History","Columbia Journal of Asian Law","FBI Law Enforcement Bulletin","Kyklos","Journal of Mind-Body Regulation","Mellifera","Australian & New Zealand Journal of Obstetrics & Gynaecology","Dialectical Anthropology","Genome","Briefings in Bioinformatics","American Journal of Health-System Pharmacy","Disability, Culture & Education","Engineering & Mining Journal","Coastal Engineering Journal","World Future ReviewFuture Society)","Student Affairs Leader","World Medical Journal","British Heritage","Family & Community History","Journal of Cosmetic Dermatology","American Midland Naturalist","Journal of Cuneiform Studies","Plant Species Biology","ISRN Applied Mathematics","Child & Youth Care Forum","Futurist","Xenotransplantation","Psycho-Oncology","Fish & Fisheries","African Journal of Ecology","Borneo Research Bulletin","Journal of African Policy Studies","Time Digital","Case Reports in Veterinary Medicine","Ironmaking & Steelmaking","Romance Studies","Fabula","China Chemical Reporter","Journal of American Culture","ISRN Analytical Chemistry","International Journal of Eating Disorders","British Journal of Developmental Psychology","Ecological Management & Restoration","Journal of Addictions & Offender Counseling","Journal of Thrombosis & Haemostasis","Nutrition Journal","International Journal of the Classical Tradition","Fundamental & Clinical Pharmacology","Canadian Business","Annals of the University of Petrosani Electrical Engineering","Shakespeare in Southern Africa","Ceramics: Art & Perception","Critical Survey","National Civic Review","International Journal of Impotence Research","Revista de Biología Tropical","Review of European Comparative & International Environmental Law","Archaeology in Oceania","Portuguese Studies","International Review of Mission","Pramana: Journal of Physics","Lethaia","Island Studies Journal","Scientific Papers: Series D", "Animal Science - The International Session of Scientific Communications of the", "Faculty of Animal Science","ISRN Anesthesiology","Journal of the American Oriental Society","Computer Supported Cooperative Work: The Journal of Collaborative Computing","Journal of Paediatrics & Child Health","Cartographic Perspectives","Antigonish Review","Journal of Human Nutrition & Dietetics","BMC Musculoskeletal Disorders","Review of Politics","Indian Journal of Ophthalmology","ON Magazine","Advances in Preventive Medicine","Politics & the Life Sciences","Australian Psychologist","Reviews in Religion & Theology","Digestive Endoscopy","Presidents & Prime Ministers","Biometrics","Communications Series B Chemistry & Chemical Engineering","Journal of Anglican Studies","Psychogeriatrics","ISRN Pediatrics","Information Polity: The International Journal of Government & Democracy in the Information Age","Fantasy & Science Fiction","Journal of the Early Republic","Antibodies4468)","Scientific Chronicles Epistimonika Chronika","Chinese America: History & Perspectives","Andrology","Liberal Arts in Russia Rossiiskii Gumanitarnyi Zhurnal","European Journal of Inflammation s.a.s.)","DATA: The Brown University Digest of Addiction Theory & Application","Infant Mental Health Journal","Community College Week","Journal of Travel Medicine","Restoration Ecology","Italianist","Current Medical Literature: Clinical Nutrition","International Journal of Pavement Research & Technology","Agricultural Engineering International: CIGR Journal","Sexuality & Culture","Weed Research","Public Health Nursing","ISRN Oncology","Nursing in Critical Care","Military & Aerospace Fiber Optics","Innovation","Advances in Pharmacology & Toxicology","Chinese Annals of Mathematics","Consciousness & Emotion","BMC Genomics","BMC Cell Biology","Current Medical Literature: Leukemia & Lymphoma","Social Science QuarterlyBlackwell)","Informes Psicológicos","Texas Journal of Science","Plays - The Drama Magazine for Young People","Career Development Quarterly","Post-Medieval Archaeology","JGE: The Journal of General Education","Molecular Cancer","Time","Library History","Journal of the History of Sexuality","H&HN: Hospitals & Health Networks","Journal of Agronomy & Crop Science","Chemistry & Technology of Fuels & Oils","APLIS","Library Journal","BMC Microbiology","Diversity Employers","Political Theology","Individual Psychology: The Journal of Adlerian Theory, Research & Practice","Human Nature","Hispanic Research Journal","Teaching Exceptional Children","African American Review","Protection of Metals","Ecological Restoration","Journal of Medical Imaging & Radiation Oncology","Journal of Archaeological Research","Scholastic Parent & Child","T+D","Journal of Oncology Pharmacy Practice","New Directions for Adult & Continuing Education","Taiwan Journal of Anthropology","Irrigation Science","International Journal of Immunogenetics","Acta Obstetricia et Gynecologica Scandinavica","Journal of Cold Regions Engineering","Anuario Filosofico","Journal for the Scientific Study of Religion","Journal of Sleep Research","OAH Newsletter","Washington Journal of Modern China","International Journal of Advanced Manufacturing Technology","BMC Biotechnology","Journal of Immunology Research","Officer Review Magazine","Muslim World","Neuropsychiatry & Neuropsychology Neuropsychiatria i Neuropsychologia","Scandinavian Journal of Immunology","Canadian Journal of History","Obesity & Health","International Journal of Obesity & Related Metabolic Disorders","Political Science Reviewer","Antipode","Folia Cryptogamica Estonica","Imaginations Journal","Rural Sociology","Journal of Nonlinear Science","Getting Paid in Behavioral Healthcare","National Review","Few-Body Systems","Evidência","International Studies Quarterly","ABNF Journal","Journal of Experimental & Theoretical Physics","BMC Infectious Diseases","Minority Nurse Newsletter","Christian Studies Journal","Medieval Sermon Studies","Journal of Hydrometeorology","Proceedings of the Estonian Academy of Sciences","British Journal of Pharmacology","Folk Music Journal","Journal of Function Spaces & Applications","Marine Biology","Technical Physics Letters","Basin Research","British Journal of Educational Psychology","Doklady Biochemistry & Biophysics","Editor & Publisher","Journal of Professional Issues in Engineering Education & Practice","Southern Journal of Philosophy","Politics","Jewish Bible Quarterly","Canadian Journal of Plastic Surgery","Chemistry of Natural Compounds","Technoetic Arts: A Journal of Speculative Research","Phycological Research","Environmental Health Perspectives","Philosophical Issues","Lighting Research & Technology","PS: Preventive Maintenance Monthly","Iranian Journal of Microbiology","Nashim: A Journal of Jewish Women's Studies & Gender Issues","Juncture","Ratio Juris","Social Policy & Administration","TC: A Journal of Biblical Textual Criticism","Austral Entomology","Monist","Canadian Journal of Zoology","Journal of Family Studies","Health Information Management Journal","Current Medical Literature: Lysosomal Storage Disease","Velvet Light Trap: A Critical Journal of Film & Television","Journal of Nursing Scholarship","Clinical Physiology & Functional Imaging","Current Medical Literature: Gastroenterology","Turkish Journal of Agriculture & Forestry","Clinical & Experimental Pharmacology & Physiology","Ambulatory Child Health","East Asian Forum","International Journal of Health Geographics","European Journal of Biochemistry","Papers on Anthropology","Zoonoses & Public Health","Texas Studies in Literature & Language","Journal of Applied Meteorology","Journal of the Medical Library Association","Journal of Arachnology","IIE Solutions","Maternal & Child Health Journal","Annals of Family Medicine","Australian Journal of Rural Health","Global Ecology & Biogeography","Joyce Studies Annual","Annals of the University of Oradea, Geography Series Analele Universitatii din Oradea, Seria Geografie","Annals of Behavioral Medicine","Cardiologia Croatica","Holocene","BMC Genetics","School Libraries in Canada","Philosophical Books","Science & Technology of Welding & Joining","Environmental Nutrition","Electronic Journal of Pathology & Histology","Northern History","Andrologia","Electronic Design","Ecology Letters","Nature Biotechnology","Critical Quarterly","Magna's Campus Legal Monthly","Journal of the Scientific Society","Alternative Medicine Studies","Feminist Legal Studies","Emerging Health Threats","Islam & Science","Journal of Contingencies & Crisis Management","Clinical Chemistry & Laboratory Medicine","Proceedings of the American Mathematical Society, Series B","Infectious Diseases in Obstetrics & Gynecology","Brazilian Journal of Management Revista de Administração da UFSM","Computer Protocols","Reporter","Children & Society","European Journal of Neuroscience","Journal of Political Philosophy","Turkish Journal of Chemistry","Current Issues in Economics & Finance","European Journal of Neurology","NACLA Report on the Americas","AANA Journal","Social Policy Journal of New Zealand","Journal of Phycology","Journal of Regional Science","Encounter","Humanitas","Case Reports in Pulmonology","Economic Development Journal","Ecological Entomology","Diseases of the Esophagus","American Journal of Audiology","Plastics Technology","Progressive","Journal of X-Ray Science & Technology","Hispanic Review","Advances in Geometry","Advances in Art, Urban Futures","Nutrition & Metabolism","Journal for Juvenile Justice Services","Acta Neurologica Scandinavica","Graphs & Combinatorics","New Directions for Community Colleges","Software & Systems Modeling","CollegeXpress Magazine","Journal of Ethnographic & Qualitative Research","Southwest Review","Black Issues Book Review","International Journal of Urology","Area","Philosophical Forum","Behavioural Neurology"
  user_ids = User.pluck(:id)
  titles.each do |title|
    Post.create({
      title: title,
      body: post,
      user_id: user_ids.sample,
      published: true,
      views: rand(10..1000)
    })
  end
end

task follow_users: :environment do
  users = User.pluck(:id)
  User.all.each do |user|
    User.where(id: users.sample(10)).each{ |u| user.follow(u) }
  end
end